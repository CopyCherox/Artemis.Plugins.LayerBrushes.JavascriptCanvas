{
  "ScriptName": "Grid Pulse (Audio Reative)",
  "JavaScriptCode": "// \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 CONFIG \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nconst GRID_COLS = 16;          // Number of columns\nconst GRID_ROWS = 12;          // Number of rows\nconst CELL_SPACING = 0.85;     // Space between cells (0-1)\nconst PULSE_MODE = \u0027radial\u0027;   // \u0027radial\u0027, \u0027wave\u0027, \u0027random\u0027\nconst BASE_SIZE = 0.3;         // Minimum cell size (0-1)\nconst BASS_IMPACT = 0.7;       // Bass effect on size\nconst COLOR_FLOW = 0.15;       // Color animation speed\nconst BG_COLOR = [5, 5, 15];   // Background RGB\n// \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nctx.clear(BG_COLOR[0], BG_COLOR[1], BG_COLOR[2]);\n\nlet cellWidth = width / GRID_COLS;\nlet cellHeight = height / GRID_ROWS;\n\nfor (let row = 0; row \u003C GRID_ROWS; row\u002B\u002B) {\n  for (let col = 0; col \u003C GRID_COLS; col\u002B\u002B) {\n    let x = col * cellWidth \u002B cellWidth / 2;\n    let y = row * cellHeight \u002B cellHeight / 2;\n\n    let pulse;\n    if (PULSE_MODE === \u0027radial\u0027) {\n      let dist = Math.sqrt(Math.pow(col - GRID_COLS/2, 2) \u002B Math.pow(row - GRID_ROWS/2, 2));\n      pulse = Math.sin(dist * 0.5 - time * 3);\n    } else if (PULSE_MODE === \u0027wave\u0027) {\n      pulse = Math.sin(col * 0.3 \u002B row * 0.3 - time * 4);\n    } else {\n      let bandIndex = Math.floor((col \u002B row * GRID_COLS) / (GRID_COLS * GRID_ROWS) * 32);\n      pulse = audio.GetBand(bandIndex) * 2 - 0.5;\n    }\n\n    let scale = BASE_SIZE \u002B (pulse * 0.5 \u002B 0.5) * (1 - BASE_SIZE) \u002B audio.Bass * BASS_IMPACT;\n    let size = Math.min(cellWidth, cellHeight) * CELL_SPACING * scale;\n\n    let hue = ((col \u002B row) / (GRID_COLS \u002B GRID_ROWS) \u002B time * COLOR_FLOW \u002B audio.Treble * 0.4) % 1;\n    let brightness = 0.4 \u002B pulse * 0.2 \u002B audio.Volume * 0.3;\n    let rgb = ctx.hslToRgb(hue, 0.9, brightness);\n\n    ctx.shadowBlur(15 \u002B audio.Volume * 20);\n    ctx.shadowColor(rgb.r, rgb.g, rgb.b, 200);\n    ctx.fillStyle(rgb.r, rgb.g, rgb.b, 255);\n    ctx.fillCircle(x, y, size / 2);\n  }\n}\n\nctx.shadowBlur(0);"
}