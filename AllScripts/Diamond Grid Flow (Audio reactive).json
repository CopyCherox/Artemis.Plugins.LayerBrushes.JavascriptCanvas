{
  "ScriptName": "Diamond Grid Flow (Audio Reactive)",
  "JavaScriptCode": "// ============================================\n// CONFIGURATION\n// ============================================\nlet CONFIG = {\n    diamondSize: 45,           // Diamond size (35-60)\n    bassRotate: 2.5,           // Bass rotation (1.5-4.0)\n    flowSpeed: 1.2,            // Animation speed (0.8-2.0)\n    colorSpeed: 0.18,\n    scaleEffect: 2.0           // Size variation (1.5-3.0)\n};\n\n// ============================================\n// MAIN EFFECT\n// ============================================\n\nlet bass = audio.IsEnabled ? audio.Bass : Math.abs(Math.sin(time * 2)) * 0.7;\nlet mid = audio.IsEnabled ? audio.Midrange : Math.abs(Math.sin(time * 2.5)) * 0.6;\nlet treble = audio.IsEnabled ? audio.Treble : Math.abs(Math.sin(time * 3)) * 0.5;\n\n// Gradient background\nfor (let y = 0; y \u003C height; y \u002B= 10) {\n    let t = y / height;\n    let brightness = 30 \u002B bass * 40;\n    let r = brightness * (0.4 - t * 0.2);\n    let g = brightness * (0.3 \u002B t * 0.1);\n    let b = brightness * (0.6 \u002B t * 0.3);\n    ctx.fillStyle(r, g, b);\n    ctx.fillRect(0, y, width, 10);\n}\n\n// Calculate grid to cover entire canvas\nlet cols = Math.ceil(width / CONFIG.diamondSize) \u002B 2;\nlet rows = Math.ceil(height / CONFIG.diamondSize) \u002B 2;\n\n// Draw diamonds covering entire canvas\nfor (let row = -1; row \u003C rows; row\u002B\u002B) {\n    for (let col = -1; col \u003C cols; col\u002B\u002B) {\n        let x = col * CONFIG.diamondSize;\n        let y = row * CONFIG.diamondSize;\n        \n        let totalCells = (rows \u002B 1) * (cols \u002B 1);\n        let t = ((row \u002B 1) * (cols \u002B 1) \u002B (col \u002B 1)) / totalCells;\n        \n        // Audio response\n        let audioValue = t \u003C 0.33 ? bass : (t \u003C 0.66 ? mid : treble);\n        \n        // Flow wave\n        let wave = Math.sin(col * 0.5 \u002B row * 0.3 \u002B time * CONFIG.flowSpeed);\n        \n        // Size and rotation\n        let scale = 0.8 \u002B audioValue * CONFIG.scaleEffect * 0.5 \u002B Math.abs(wave) * 0.4;\n        let size = CONFIG.diamondSize * scale;\n        let rotation = Math.PI / 4 \u002B time \u002B audioValue * CONFIG.bassRotate;\n        \n        // Color\n        let hue = (t \u002B time * CONFIG.colorSpeed \u002B wave * 0.1) % 1.0;\n        let lightness = 0.45 \u002B audioValue * 0.4;\n        let rgb = ctx.hslToRgb(hue, 0.9, lightness);\n        \n        // Draw diamond (rotated square)\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.rotate(rotation);\n        \n        ctx.fillStyle(rgb.r, rgb.g, rgb.b);\n        ctx.fillRect(-size/2, -size/2, size, size);\n        \n        // Inner highlight\n        if (audioValue \u003E 0.5) {\n            ctx.fillStyle(255, 255, 255, audioValue * 0.5);\n            ctx.fillRect(-size/4, -size/4, size/2, size/2);\n        }\n        \n        ctx.restore();\n    }\n}\n"
}