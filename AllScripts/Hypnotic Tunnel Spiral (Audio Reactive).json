{
  "ScriptName": "Hypnotic Tunnel Spiral (Audio Reactive)",
  "JavaScriptCode": "// ==================== CONFIG ====================\nconst config = {\n    layers: 40,             // How deep the tunnel goes\n    shapeSize: Math.max(width, height) * 1.5, // Start larger than screen\n    rotationSpeed: 0.5,\n    twist: 0.05,             // Rotation diff per layer\n    colorSpeed: 0.1\n};\n\n// ==================== DRAW ====================\nlet cx = width / 2;\nlet cy = height / 2;\n\n// Center the context\nctx.save();\nctx.translate(cx, cy);\n\n// Audio Zoom\nlet zoom = 1.0;\nif (audio.IsEnabled) {\n    zoom = 1.0 \u002B (audio.Bass * 0.2);\n}\n\n// Draw from Back (Largest) to Front (Smallest)\nfor (let i = 0; i \u003C config.layers; i\u002B\u002B) {\n    // Calculate normalized position (0.0 = far/large, 1.0 = close/small)\n    // We reverse i so 0 is the background layer\n    let progress = i / config.layers; \n    \n    // Size decreases as we go forward\n    let size = config.shapeSize * (1 - progress);\n    \n    // Don\u0027t draw if too small (optimization)\n    if (size \u003C 2) continue;\n\n    ctx.save();\n\n    // Rotate this layer\n    // Base rotation \u002B Twist based on depth\n    let angle = (time * config.rotationSpeed) \u002B (i * config.twist * zoom);\n    ctx.rotate(angle);\n\n    // Color Calculation (Rainbow Tunnel)\n    // Hue shifts based on depth (i) and time\n    let hue = (time * config.colorSpeed \u002B (i * 0.05)) % 1.0;\n    \n    // Make the center brighter\n    let light = 0.3 \u002B (progress * 0.5); \n    \n    let rgb = ctx.hslToRgb(hue, 1.0, light);\n    ctx.fillStyle(rgb.r, rgb.g, rgb.b, 255);\n\n    // Draw the Square\n    // We center it by offsetting -size/2\n    ctx.fillRect(-size/2, -size/2, size, size);\n\n    // Optional: Add a border for definition\n    ctx.strokeStyle(0, 0, 0, 50); // Semi-transparent black outline\n    ctx.lineWidth(size * 0.05);   // Border scales with size\n    ctx.strokeRect(-size/2, -size/2, size, size);\n\n    ctx.restore();\n}\n\nctx.restore();"
}