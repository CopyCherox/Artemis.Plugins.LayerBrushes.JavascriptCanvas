{
  "ScriptName": "Triangle Tessellation",
  "JavaScriptCode": "// ==================== CONFIG ====================\nconst config = {\n    cellSize: 40,\n    waveSpeed: 2.0,\n    waveSize: 20,       // Height of ripple\n    baseColor: {h: 0.6, s: 0.8, l: 0.4} // Blue base\n};\n\n// ==================== DRAW ====================\n// Fill Background\nctx.fillStyle(0, 0, 0, 255);\nctx.fillRect(0, 0, width, height);\n\nlet cols = Math.ceil(width / config.cellSize) \u002B 1;\nlet rows = Math.ceil(height / config.cellSize) \u002B 1;\nlet t = time * config.waveSpeed;\n\n// Helper to get distorted point\nfunction getPoint(x, y) {\n    let gx = x * config.cellSize;\n    let gy = y * config.cellSize;\n    \n    // Distortion Math\n    let dist = Math.sqrt(gx*gx \u002B gy*gy);\n    let z = Math.sin(dist * 0.01 - t) \u002B Math.cos(gx * 0.02 \u002B t);\n    \n    // Audio affects height\n    if (audio.IsEnabled) z *= (1 \u002B audio.Bass);\n    \n    return {\n        x: gx, // We keep x/y mostly grid-locked for cleaner look\n        y: gy,\n        z: z * config.waveSize // Z used for color\n    };\n}\n\n// Draw Mesh\nfor (let y = 0; y \u003C rows; y\u002B\u002B) {\n    for (let x = 0; x \u003C cols; x\u002B\u002B) {\n        // Calculate 3 vertices for two triangles in this grid cell\n        // P1--P2\n        // |  / |\n        // P3--P4\n        \n        let p1 = getPoint(x, y);\n        let p2 = getPoint(x \u002B 1, y);\n        let p3 = getPoint(x, y \u002B 1);\n        let p4 = getPoint(x \u002B 1, y \u002B 1);\n        \n        // --- Triangle 1 (Top Left) ---\n        drawPoly(p1, p2, p3);\n        \n        // --- Triangle 2 (Bottom Right) ---\n        drawPoly(p3, p2, p4);\n    }\n}\n\nfunction drawPoly(a, b, c) {\n    // Calculate average height for color\n    let avgZ = (a.z \u002B b.z \u002B c.z) / 3;\n    \n    // Map height to lightness (fake lighting)\n    // Range roughly -20 to 20. Map to 0.2 to 0.8 lightness\n    let lit = 0.4 \u002B (avgZ / config.waveSize) * 0.3;\n    lit = Math.max(0.1, Math.min(0.9, lit));\n    \n    let rgb = ctx.hslToRgb(config.baseColor.h, config.baseColor.s, lit);\n    \n    ctx.fillStyle(rgb.r, rgb.g, rgb.b, 255);\n    ctx.strokeStyle(rgb.r, rgb.g, rgb.b, 255); // Stroke to fill gaps\n    ctx.lineWidth(1);\n    \n    ctx.beginPath();\n    ctx.moveTo(a.x, a.y);\n    ctx.lineTo(b.x, b.y);\n    ctx.lineTo(c.x, c.y);\n    ctx.closePath();\n    \n    ctx.fill();\n    ctx.stroke();\n}"
}