{
  "ScriptName": "Diamond Grid (Audio Reactive)",
  "JavaScriptCode": "// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// \u2728 CONFIGURATION\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nconst config = {\n  size: 40,             // Size of diamond grid\n  speed: 2.0,           // Pulse speed\n  color1: [50, 0, 100], // Background (Purple)\n  color2: [0, 255, 200] // Foreground (Teal)\n};\n\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// \uD83C\uDFA8 BACKGROUND\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// Fill solid background first\nctx.fillStyle(config.color1[0], config.color1[1], config.color1[2], 255);\nctx.fillRect(0, 0, width, height);\n\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// \uD83D\uDCA0 DIAMOND GRID\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nconst cols = Math.ceil(width / config.size) \u002B 1;\nconst rows = Math.ceil(height / config.size) \u002B 8;\nconst halfSize = config.size / 2;\n\nlet t = time * config.speed;\n\n// Audio makes the diamonds pop larger\nlet boost = audio.IsEnabled ? (audio.Volume * 0.5) : 0;\n\nfor (let y = 0; y \u003C rows; y\u002B\u002B) {\n  for (let x = 0; x \u003C cols; x\u002B\u002B) {\n    \n    // Offset every other row to create Diamond pattern\n    let xOff = (y % 2) * halfSize;\n    let px = (x * config.size) \u002B xOff - halfSize;\n    let py = y * (config.size * 0.5); // Squash vertically\n    \n    // Calculate Scale of this specific diamond\n    // Creates a wave moving across the screen\n    let dist = Math.sqrt(x*x \u002B y*y);\n    let wave = Math.sin(dist * 0.5 - t); // -1 to 1\n    \n    // Map wave to scale (0.1 to 1.0)\n    let scale = 0.5 \u002B (wave * 0.4) \u002B boost;\n    if (scale \u003E 1.0) scale = 1.0;\n    \n    // Draw Diamond\n    // We draw a path based on center point px, py\n    let w = halfSize * scale;\n    let h = (halfSize * 0.8) * scale; // 0.8 aspect ratio\n    \n    // Color Gradient\n    // Brighter when bigger\n    let alpha = scale * 255;\n    \n    ctx.fillStyle(config.color2[0], config.color2[1], config.color2[2], alpha);\n    ctx.beginPath();\n    ctx.moveTo(px, py - h); // Top\n    ctx.lineTo(px \u002B w, py); // Right\n    ctx.lineTo(px, py \u002B h); // Bottom\n    ctx.lineTo(px - w, py); // Left\n    ctx.closePath();\n    ctx.fill();\n    \n    // Add a center dot for detail\n    ctx.fillStyle(255, 255, 255, alpha);\n    ctx.fillRect(px - 2, py - 2, 4, 4);\n  }\n}"
}