{
  "ScriptName": "Tunnel Effect",
  "JavaScriptCode": "// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\r\n// CONFIG\r\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\r\nconst config = {\r\n  tunnelSpeed: 0.2,\r\n  twistSpeed: -1.0,\r\n  colorBands: 10,\r\n  pixelSize: 8,\r\n  brightness: 0.6\r\n};\r\n\r\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\r\n// RENDER\r\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\r\nlet centerX = width / 2;\r\nlet centerY = height / 2;\r\n\r\nfor (let x = 0; x \u003C width; x \u002B= config.pixelSize) {\r\n  for (let y = 0; y \u003C height; y \u002B= config.pixelSize) {\r\n    let dx = x - centerX;\r\n    let dy = y - centerY;\r\n    \r\n    let distance = Math.sqrt(dx * dx \u002B dy * dy);\r\n    let angle = Math.atan2(dy, dx);\r\n    \r\n    // Tunnel depth and twist\r\n    let depth = (distance / 50) - time * config.tunnelSpeed;\r\n    let twist = angle \u002B depth * config.twistSpeed;\r\n    \r\n    // Color bands\r\n    let colorValue = (Math.sin(depth * config.colorBands) \u002B 1) / 2;\r\n    let hue = (twist / (Math.PI * 2) \u002B time * 0.2) % 1.0;\r\n    \r\n    let rgb = ctx.hslToRgb(hue, 0.9, colorValue * config.brightness);\r\n    \r\n    ctx.fillStyle(rgb.r, rgb.g, rgb.b, 255);\r\n    ctx.fillRect(x, y, config.pixelSize, config.pixelSize);\r\n  }\r\n}\r\n"
}